<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MediaPlayer.NewContent1"
    x:Name="PopupView" IsVisible="False"
             BackgroundColor="#80000000">
    
    <Grid>
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Tapped="BackgroundTapped"/>
        </Grid.GestureRecognizers>
        <Border
               Padding="20"
               HorizontalOptions="End"
               WidthRequest="300"
               VerticalOptions="FillAndExpand" Stroke="Transparent"> 
            <Border.Background>
                <LinearGradientBrush EndPoint="1,1">

                    <GradientStop Color="#111017" Offset="0.2" />
                    <GradientStop Color="#452146" Offset="0.9"/>
                </LinearGradientBrush>
            </Border.Background>
            <StackLayout>
                <HorizontalStackLayout>
                    <Button Text="Save" 
                     Grid.Column="2" 
                     Grid.Row="0" 
                     HorizontalOptions="End" 
                     Margin="0,0,10,0" 
                     FontSize="20" 
                     BackgroundColor="White" 
                     TextColor="Black"
                     x:Name="SaveSongButton"
                     Clicked="SaveSongsAsync">
                    </Button>
                    <Button Text="+" 
                         Grid.Column="2" 
                         Grid.Row="0" 
                         HorizontalOptions="End" 
                         Margin="0,0,10,0" 
                         FontSize="20" 
                         BackgroundColor="White" 
                         TextColor="Black"
                         x:Name="AddSongButton"
                         Clicked="Add_Button_Clicked">
                    </Button>
                </HorizontalStackLayout>

                <CollectionView Grid.Row="2"
                        Grid.ColumnSpan="3"
                        Margin="5"
                        x:Name="SongsCollectionView">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <HorizontalStackLayout>
                                <Label Text="{Binding Title}" TextColor="Wheat"/>
                            </HorizontalStackLayout>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                    </CollectionView>

            </StackLayout>
        </Border>
    </Grid>
</ContentView>